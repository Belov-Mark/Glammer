{% load static %}
{% load tags %}

<!DOCTYPE html>
<html lang="ru" translate="no">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="svg" href="{% static "images/GlammerTitleImg.svg" %}" />
    {% block title %}{% endblock %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static "styles/global.css" %}">
    <link rel="stylesheet" href="{% static "main/styles/main.css" %}">
    {% block css %}{% endblock %}
</head>
<body>
    {% comment %} first header {% endcomment %}
    
    <header>
        <nav class="primary-header">
            <a class="login" href="{% url 'users:login' %}">Вход</a>
            <a href="{% url 'users:signin' %}">Регистрация</a>
            <a class="wishList" href="#">Список желаний: Пуст</a>
        </nav>
    </header>

    {% comment %} second header {% endcomment %}

    <header>
        <nav class="secondary-header">
            <a href="{% url "main:main" %}"><img class="logo" src="{% static "images/GlammerLogoImg.webp" %}" alt="GLAMMER"></a>
            <a id="dropdownBtn" onclick="toggleDropdownMenu('catalog')">
                <svg id="burgerIcon" viewBox="0 0 24 24">
                    <line class="line line1" x1="3" y1="6" x2="21" y2="6"></line>
                    <line class="line line2" x1="3" y1="12" x2="21" y2="12"></line>
                    <line class="line line3" x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                КАТАЛОГ
            </a>
            <nav id="catalog">
                <article class="category"> 
                    <a href="{% url 'products:catalog' 'all' %}"><b>ВСЕ ТОВАРЫ</b></a>
                    {% for category in categories %}
                        <a href="{% url 'products:catalog' category.slug %}" class="categoryButton" id="{{ category.name }}">
                            {{ category.name }} &#40;0&#41;
                            <svg class="catalogArrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.10073 9.80399">
                                <path d="M0,0,7.05023,2.45114,14.10073,4.902,7.05023,7.35291,0,9.804C2.35793,6.59817,2.40356,3.33138,0,0Z"/>
                            </svg>
                        </a>
                    {% empty %}
                        <p>Нет элементов!</p>
                    {% endfor %}
                    <input id="inputText" type="search" placeholder="Поиск">
                </article>
                <article class="subcategory">
                    <a href="">Подкатегория</a>
                    {% for subcategory in subcategories %}
                        <a href="#">
                            {{ subcategory.name }} &#40;0&#41;
                            <svg class="catalogArrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.10073 9.80399">
                                <path d="M0,0,7.05023,2.45114,14.10073,4.902,7.05023,7.35291,0,9.804C2.35793,6.59817,2.40356,3.33138,0,0Z"/>
                            </svg>
                        </a>
                    {% empty %}
                        <p>Нет элементов!</p>
                    {% endfor %}
                </article>     
            </nav>
            <nav class="centerMenu">
                <a class="item" href="">Галерея</a>
                <a class="item" href="">Коллекции</a>
                <a class="item" href="">Доставка</a>
                <a class="item" href="">Возврат и обмен</a>
                <a class="item" href="{% url "main:contacts" %}">Контакты</a>
            </nav>
            {% if user.is_authenticated %}
                {% if user.city %}
                    <span class="cityandcart">
                        Ваш город: <a onclick="toggleDropdownMenu('cityMenu')" id="currentCity">
                        {% if user.city.reduction %}
                            {{ user.city.reduction }}
                        {% else %}
                            {{ user.city.name }}
                        {% endif %}
                        </a>
                    </span>
                {% else %}
                    <span class="cityandcart">
                        Ваш город: <a onclick="toggleDropdownMenu('cityMenu')" id="currentCity">Москва</a>
                    </span>
                {% endif %}
            {% else %}
                <span class="cityandcart">
                    Ваш город: <a onclick="toggleDropdownMenu('cityMenu')" id="currentCity">Москва</a>
                </span>
            {% endif %}

            
            <nav id="cityMenu">
                {% for city in citys %}
                    <a class="dropdown-item" onclick="changeCity('{% if city.reduction %}{{ city.reduction }}{% else %}{{ city.name }}{% endif %}')">
                        {{ city.name }}
                    </a>
                {% endfor %}

            </nav>
            |
            <a class="cart" href="{% url 'carts:cart' %}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.78494 23.72197">
                    <polyline class="cls-1" points="0 0.5 3.404 0.5 6.255 13.947 22.383 12.33 24.17 3.777 4.383 3.691"/>
                    <polyline class="cls-1" points="6.372 14.064 8.285 16.415 21.021 16.178"/>
                    <circle class="cls-1" cx="8.93617" cy="20.79644" r="2.42553"/>
                    <circle class="cls-1" cx="18.95745" cy="20.79644" r="2.42553"/>
                    <line class="cls-1" x1="9" y1="16.65957" x2="9" y2="17.98404"/>
                    <line class="cls-1" x1="18.95745" y1="16.41489" x2="18.95745" y2="18.17553"/>
                </svg>
                <b>КОРЗИНА: {{ cart_item_count }}</b>
            </a>
        </nav>
    </header>
    
    {% comment %} main {% endcomment %}

    <main>
        {% block main %}{% endblock %}
    </main>

    {% comment %} footer {% endcomment %}

    <footer>
        <section class="footerToggleMenu">
            <a onclick="toggleDropdownMenu('infoMenu')">Информация</a>
            <nav id="infoMenu" class="footerMenu">
                <a href="#">Доставка и оплата</a>
                <a href="#">Политика конфедециальности</a>
                <a href="#">Оферта</a>
                <a href="#">Контакты</a>
            </nav> 

            <a onclick="toggleDropdownMenu('cabinetMenu')">Личный кабинет</a>
            <nav id="cabinetMenu" class="footerMenu">
                <a href="{% url 'users:login' %}">Вход</a>
                <a href="{% url 'users:signin' %}">Регистрация</a>
                <a href="{% url 'users:recovery' %}">Забыли пароль?</a>
            </nav> 

            <a onclick="toggleDropdownMenu('socialMenu')">Мы в соц сетях</a>
            <nav id="socialMenu" class="footerMenu">
                <a class="socialItem" href="#">
                    <img class="socialFoto" src="{% static "images/inst.webp" %}" alt="Инстаграм" loading="lazy">
                    Instagram
                </a>
                <a class="socialItem" href="#">
                    <img class="socialFoto" src="{% static "images/tg.webp" %}" alt="Телеграм" loading="lazy">
                    Telegram
                </a>
            </nav>
        </section>  
        <a id="brand" href="{% url "admin:index" %}">GLAMMER BRAND © 2024</a> 
    </footer>

    {% comment %} mes {% endcomment %}

    <a class="mes" onclick="toggleDropdownMenu('mesContainer')">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89.8413 89.84832">
            <path class="cls-1-mes" d="M23.82663,51.50278a19.59556,19.59556,0,0,1-6.52412-5.98731,13.26285,13.26285,0,0,1,1.29766-16.39382A24.40388,24.40388,0,0,1,32.34023,21.74a30.1344,30.1344,0,0,1,7.87067-.53054c5.92667.35858,11.39453,2.04915,16.02034,5.929a14.74872,14.74872,0,0,1,5.4417,9.082,12.927,12.927,0,0,1-2.93995,10.419c-3.31279,4.15412-7.8015,6.41177-12.84494,7.69516a30.7194,30.7194,0,0,1-9.14771.82759c-1.14871-.0571-2.28852-.27935-3.437-.36282a1.97788,1.97788,0,0,0-1.157.23872,27.55055,27.55055,0,0,1-11.40482,4.38228,1.683,1.683,0,0,1-1.19783-.47162.9842.9842,0,0,1-.06189-1.3376,19.32059,19.32059,0,0,1,1.29753-1.5329A14.51014,14.51014,0,0,0,23.82663,51.50278ZM38.70953,41.3991a2.78423,2.78423,0,1,0-.00252-5.56846,2.78425,2.78425,0,0,0,.00252,5.56846Zm9.4673-.003a2.78513,2.78513,0,1,0-2.73868-2.82522A2.81671,2.81671,0,0,0,48.17683,41.39613ZM31.92361,38.63528a2.70643,2.70643,0,0,0-2.70605-2.80452,2.785,2.785,0,1,0,2.70605,2.80452Z"/>
            <path class="cls-2-mes" d="M65.6374,33.79905c1.1958.866,2.43805,1.65912,3.558,2.59809a14.83263,14.83263,0,0,1,5.29132,8.34092A13.04361,13.04361,0,0,1,71.65163,55.915a19.32421,19.32421,0,0,1-4.92508,4.33684c-.23215.14826-.46238.29954-.7357.4768a12.82518,12.82518,0,0,0,2.49677,3.97423c.50324.57275,1.02289,1.13114,1.53772,1.69364a1.36467,1.36467,0,0,1,.28976,1.71011c-.34461.60452-.90461.56194-1.52356.47189A27.45888,27.45888,0,0,1,57.7097,64.244a1.81808,1.81808,0,0,0-1.14947-.22216c-7.33712,1.02677-14.28709.04112-20.86929-3.98139.64538,0,1.10891-.01735,1.57084.00259a32.15025,32.15025,0,0,0,19.47006-5.08093,20.34254,20.34254,0,0,0,8.65247-10.77872,16.70922,16.70922,0,0,0,.20842-9.8376q-.04617-.16723-.08206-.33717C65.50719,33.99211,65.53277,33.96953,65.6374,33.79905Z"/>
            <path class="cls-3-mes" d="M.00012,44.86254A44.92158,44.92158,0,1,1,44.57974,89.8469,44.9274,44.9274,0,0,1,.00012,44.86254Zm23.82651,6.64024a14.51014,14.51014,0,0,1-3.04726,4.57557,19.32059,19.32059,0,0,0-1.29753,1.5329.9842.9842,0,0,0,.06189,1.3376,1.683,1.683,0,0,0,1.19783.47162,27.55055,27.55055,0,0,0,11.40482-4.38228,1.97788,1.97788,0,0,1,1.157-.23872c1.14848.08347,2.28829.30572,3.437.36282a30.7194,30.7194,0,0,0,9.14771-.82759c5.04344-1.28339,9.53215-3.541,12.84494-7.69516a12.927,12.927,0,0,0,2.93995-10.419,14.74872,14.74872,0,0,0-5.4417-9.082c-4.62581-3.87987-10.09367-5.57044-16.02034-5.929a30.1344,30.1344,0,0,0-7.87067.53054,24.40388,24.40388,0,0,0-13.74006,7.38162,13.26285,13.26285,0,0,0-1.29766,16.39382A19.59556,19.59556,0,0,0,23.82663,51.50278ZM65.6374,33.79905c-.10463.17048-.13021.19306-.12673.20954q.03573.16971.08206.33717a16.70922,16.70922,0,0,1-.20842,9.8376,20.34254,20.34254,0,0,1-8.65247,10.77872A32.15025,32.15025,0,0,1,37.26178,60.043c-.46193-.01994-.92546-.00259-1.57084-.00259,6.5822,4.02251,13.53217,5.00816,20.86929,3.98139a1.81808,1.81808,0,0,1,1.14947.22216,27.45888,27.45888,0,0,0,11.08184,4.33454c.61895.09005,1.179.13263,1.52356-.47189a1.36467,1.36467,0,0,0-.28976-1.71011c-.51483-.5625-1.03448-1.12089-1.53772-1.69364a12.82518,12.82518,0,0,1-2.49677-3.97423c.27332-.17726.50355-.32854.7357-.4768A19.32421,19.32421,0,0,0,71.65163,55.915a13.04361,13.04361,0,0,0,2.83513-11.17694,14.83263,14.83263,0,0,0-5.29132-8.34092C68.07545,35.45817,66.8332,34.665,65.6374,33.79905Z"/>
            <path class="cls-3-mes" d="M38.70953,41.3991A2.78423,2.78423,0,1,1,41.496,38.57564,2.76079,2.76079,0,0,1,38.70953,41.3991Z"/>
            <path class="cls-3-mes" d="M48.17683,41.39613a2.78513,2.78513,0,1,1,.22806-5.56393,2.78431,2.78431,0,1,1-.22806,5.56393Z"/>
            <path class="cls-3-mes" d="M31.92361,38.63528a2.72886,2.72886,0,0,1-2.76437,2.76419,2.78475,2.78475,0,1,1,.05832-5.56871A2.70643,2.70643,0,0,1,31.92361,38.63528Z"/>
        </svg>
    </a>
    {% comment "mes" %}
    <nav id="mesContainer">
        <a href="#"><img class="mesImages first" src="{% static "images/inst.webp" %}" alt="Инстаграм"></a>
        <a href="#"><img class="mesImages second" src="{% static "images/tg.webp" %}" alt="Телеграм"></a>
    </nav>
    {% endcomment %}

    {% comment %} scripts {% endcomment %}

    <script src="{% static 'scripts/global.js' %}" async></script>

    {% block script %}{% endblock %}
</body>
</html>

